## 进程间通信

### pipe管道通信

工作原理：进程的用户空间都是相互独立的，但是它们共享内核空间，因此，可以在内核空间中开辟出来一个空间（pipe），来进行进程间的通信

1. pipe通信

   用途：主要用于有血缘关系的进程间的通信，通过fork共享文件描述符

   ```c++
   int pipe(int pipefd[2]);
   
   //执行结果是在文件描述符表中指定两个文件描述符，分别是pipefd[0](读文件fd),pipefd[1](写文件fd)
   
   注意：管道通信是单工通信，如果要实现全双工通信，需要申请两个管道文件
   一般我们先指定方向，如父读子写，则将父亲的写文件符关闭，儿子的读文件符关闭
   
   四种情况：
   1.写文件描述关闭，则此时读函数得到的返回值为0，标志着写端关闭
   2.若写时为满，则此时写入的话会阻塞，等待有进程读走好腾出空间
   3.若读时为空，则阻塞等待内容写入
   4.若读文件描述符关闭，此时写入会对进程发送一个SIGPIPE信号，默认关闭进程
   
   //若想设置文件为非阻塞，则应通过fcntl函数来进行更改
   ```

2. fifo通信

   用途：一种具名管道，用于不同血缘关系的进程间的通信

   ​		原理是将内核空间的一部分区域与fifo文件相关联，多个进程通过对fifo文件的读写来进行通信

   ```c++
   int mkfifo(const char* path, mode_t mode);
   
   创建一个fifo文件
   ```

   

